---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

// Lekérjük az összes cikket, majd kiszűrjük CSAK a "Táborok" kategóriát
const allPosts = await getCollection('hirek');
const taborokPosts = allPosts.filter(post => post.data.category === 'Táborok');
---

<BaseLayout title="Táborok">
  <div class="tabor-cikkek-tarolo">
  <h3>Legfrissebb információk a táborokról:</h3>
  <ul>
    {taborokPosts.map((post) => (
  <li style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
  {post.data.thumbnail && (
    <img src={post.data.thumbnail} alt={post.data.title} style="width: 100px; height: 100px; object-fit: cover; border-radius: 8px; flex-shrink: 0;" />
  )}
  
  <a href={`/cikk/${post.slug}`} style="font-size: 1.25rem; font-weight: bold; color: #2563eb; text-decoration: none;">
    {post.data.title}
  </a>
</li>
    ))}
  </ul>
</div>
  
</BaseLayout>

<style>
  .oldal-tartalom {
    background: white;
    padding: 4rem 2rem;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    text-align: center;
    margin-top: 2rem;
  }
  h1 {
    color: var(--primary-color);
  }
</style>